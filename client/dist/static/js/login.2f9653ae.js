(function(t){function e(e){for(var r,i,c=e[0],l=e[1],s=e[2],p=0,d=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={login:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;o.push([2,"chunk-vendors","chunk-common"]),n()})({2:function(t,e,n){t.exports=n("adec")},"39b4":function(t,e,n){},"82c5":function(t,e,n){"use strict";var r=n("39b4"),a=n.n(r);a.a},adec:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),a=(n("42a1"),n("b3f5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-page"},[n("h1",{staticClass:"top-title"},[t._v(" "+t._s(t.$t("login.loginTitle"))+" "),n("div",{staticClass:"locale-wrap"},[n("locale-select")],1)]),n("let-form",{ref:"form",attrs:{inline:"","label-position":"top",itemWidth:"440px"},nativeOn:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("let-form-item",{attrs:{label:t.$t("login.userName"),required:""}},[n("let-input",{attrs:{size:"small",required:"","required-tip":t.$t("login.userNameTips"),pattern:"^[a-zA-Z0-9_]+$","pattern-tip":t.$t("login.userNameRegTips")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),n("let-form-item",{attrs:{label:t.$t("login.password"),required:""}},[n("let-input",{attrs:{type:"password",size:"small",required:"","required-tip":t.$t("login.passwordTips")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("let-form-item",{attrs:{label:t.$t("login.captcha"),required:""}},[n("div",{staticClass:"captcha_box"},[n("let-input",{attrs:{type:"text",size:"small",required:"","required-tip":t.$t("login.captchaTips")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),n("img",{staticClass:"captcha_code",attrs:{title:"点击刷新",src:t.captchaUrl},on:{click:t.reloadCaptcha}})],1)]),n("let-button",{attrs:{type:"submit",theme:"primary"}},[t._v(t._s(t.$t("login.login")))])],1)],1)}),o=[],i=(n("99af"),n("4160"),n("c975"),n("ac1f"),n("841c"),n("1276"),n("159b"),n("00b0")),c={name:"loginPage",data:function(){return{uid:"",password:"",captcha:"",captchaUrl:"/captcha?".concat(Math.random())}},computed:{redirectUrl:function(){return this.getQueryParam("redirect_url","/")}},components:{localeSelect:i["a"]},methods:{login:function(){var t=this;if(this.$refs.form.validate()){var e=this.$Loading.show();this.$ajax.postJSON("/server/api/login",{uid:this.uid,password:this.password,captcha:this.captcha}).then((function(n){e.hide();var r=t.redirectUrl,a=r+(-1===r.indexOf("?")?"?":"&")+"ticket="+n.ticket;console.log(n,r,a),location.href=a})).catch((function(n){e.hide(),t.$tip.error("".concat(t.$t("login.loginFailed"),": ").concat(n.err_msg||n.message))}))}},getQueryParam:function(t,e){if(!t)return e;var n=e,r=window.location.search?window.location.search.substr(1):"";return r&&r.split("&").forEach((function(e){var r=e.split("=");r[0]==t&&(n=decodeURIComponent(r[1]))})),n},reloadCaptcha:function(){this.captchaUrl="/captcha?".concat(Math.random())}},mounted:function(){this.uid=this.getQueryParam("user","")}},l=c,s=(n("82c5"),n("2877")),u=Object(s["a"])(l,a,o,!1,null,null,null),p=u.exports,d=n("f51c");r["default"].config.productionTip=!1,d["b"].call(void 0).then((function(){new r["default"]({el:"#login-app",i18n:d["a"],components:{login:p},template:"<login/>"})}))}});